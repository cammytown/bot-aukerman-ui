{% extends "perform/base.html" %}

{% block title %}New Performance{% endblock %}

{% block content_class %}new-performance{% endblock %}

{% block content %}
<form
	class="new-performance"
	hx-post="{% url 'create_performance' %}"
	{% comment %}hx-target="#performance"{% endcomment %}
	hx-swap="outerHTML"
>
	<h1>Perform</h1>

	<fieldset>
		<legend>Performance</legend>

		<label for="performance_title">Title</label>

		<input
			type="text"
			class="form-control"
			id="performance_title"
			name="performance_title"
			placeholder="The Odd Frog"
		/>
	</fieldset>

	<fieldset>
		<legend>Scene</legend>

		<label for="scene_description">Scene Description</label>

		<textarea
			class="form-control"
			id="scene_description"
			name="scene_description"
			rows="3"
			placeholder="A lovely park on a sunny day."></textarea>
	</fieldset>

	<fieldset class="characters">
		<legend>Characters</legend>

		<div class="characters">
			{% include "perform/_add_character.html" %}
		</div>
	</fieldset>

	<fieldset>
		<legend>Starting Context</legend>

		<textarea
			class="form-control"
			id="context"
			name="context"
			rows="5"
			placeholder="FROG: Well, hello there, mister human.
HOMELESS MAN: Aâ€” a talking frog?"></textarea>
	</fieldset>

	<fieldset>
		<button type="submit" class="btn btn-primary" id="start-performance">
			Start Performance
		</button>

		<a
			class="btn btn-primary"
			id="toggle-microphone"
			hx-post="{% url 'toggle_microphone' %}"
			hx-target="#microphone-status"
			hx-swap="innerHTML"
		>
			Toggle Microphone Listen
		</a>
		<span id="microphone-status">Off</span>
	</fieldset>
</form>

<div id="performance">
</div>

{% endblock %}
